    //GreenDao数据库
    implementation 'org.greenrobot:greendao:3.2.2'
	在app build配置下
	    greendao {
        //数据库版本号，升级时修改
        schemaVersion 2
        //生成的DAO，DaoMaster和DaoSession的包路径。默认与表实体所在的包路径相同
        daoPackage 'com.szqd.sznotes.model.db'
        //生成源文件的路径。默认源文件目录是在build目录中的(build/generated/source/greendao)
        targetGenDir 'src/main/java'
    }

首先记 数据库中不能存对象 
标识一个表中一行和另一表中行的对应关系
1对 1 ：随便哪个记住另外表的 group_id 就行
1对多 ： 多的一边 记住 1 的一边的group_id
多对多：两个表都不记录 第三章表中一行记录 persion_id 和 group_id

数据库升级
因为覆盖安装不会删除已有的数据库 所以存在这问题

自己涉及，
设置数据库版本 每次安装都判断当前版本的version id 
只用一个函数
是否大于当前版本的id：大于就复制老数据库 并添加新版本额外部分添加的表
若没有old version id 就是新装：直接安装新版本数据库 

 拆分为两个函数
判断提前 再根据条件判断调用哪个函数
onupdata（）
是否大于当前版本的id：大于就复制老数据库 并添加新版本额外部分添加的表
oncreat()
若没有old version id 就是新装：直接安装新版本数据库 

实用：
1
greendao 是根据 对象里面的id 来判断是不是这行数据的 
2
greendao 中 1对多关系中 可以通过1对象直接获取到多的对象集合 返回一个list
3
当多表中数据变化的时候 要先 mMainTaskModel.resetMedias() 不然多表有新增 新增部分你直接获取不到 

3保存

4查询


5 升级数据库
    app build 下添加依赖
      //GreenDao 数据库升级依赖
    implementation 'io.github.yuweiguocn:GreenDaoUpgradeHelper:v2.2.1'
	以及    
	implementation 'io.github.yuweiguocn:GreenDaoUpgradeHelper:v2.2.1'
    project build 下添加依赖
	 maven { url "https://jitpack.io" }
			
   添加helper函数
   public MyOpenHelper(Context context, String name, SQLiteDatabase.CursorFactory factory) {
        super(context, name, factory);
    }

    public void onUpgrade(Database db, int oldVersion, int newVersion) {

        // 把需要管理的数据库表DAO作为最后一个参数传入到方法中
        MigrationHelper.migrate(db, new MigrationHelper.ReCreateAllTableListener() {

            @Override
            public void onCreateAllTables(Database db, boolean ifNotExists) {
                DaoMaster.createAllTables(db, ifNotExists);
            }

            @Override
            public void onDropAllTables(Database db, boolean ifExists) {
                DaoMaster.dropAllTables(db, ifExists);
            }
        }, TaskModelDao.class,SortModelDao.class);

    }
}


         修改初始化
            MyOpenHelper helper = new MyOpenHelper(context, DB_NAME, null);
            sDaoMaster = new DaoMaster(helper.getWritableDatabase());
			
			
注意记得在升级表后要改数据库版本号	
app buuild 修改		
    greendao {
        //数据库版本号，升级时修改
        schemaVersion 2

6查看数据库
    //数据库查看库 app moudle
    debugImplementation 'com.amitshekhar.android:debug-db:1.0.0'
	
	下面当你在App启动的时候，你要注意查看下你的logcat，会有这么一行：
D/DebugDB: Open http://XXX.XXX.X.XXX:8080

更好的调试框架
    //调试框架 网址chrome://inspect/#devices
    implementation 'com.facebook.stetho:stetho:1.5.1'
	app oncreat中添加 
	      //调试框架
   Stetho.initializeWithDefaults(this);
  查看数据库
  chrome://inspect
   点击web sql 就可以查看

 

